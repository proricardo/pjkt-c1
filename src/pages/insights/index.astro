---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Breadcrumb from '../../components/Breadcrumb.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('insights')).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---
<BaseLayout title="Insights | Projekt" description="Conteúdos sobre IA aplicada, governança técnica, discovery e decisões de produto." path="/insights">
  <section class="section container">
    <Breadcrumb items={[{label:'Home',href:'/'},{label:'Insights'}]} />
    <h1>Insights</h1>
    <div class="grid grid-3">
      {posts.map((post) => (
        <article class="card" style="padding:1rem;">
          <h2 style="font-size:1.1rem;">{post.data.title}</h2>
          <p class="muted">{post.data.description}</p>
          <a class="btn" href={`/insights/${post.slug}`}>Abrir artigo</a>
        </article>
      ))}
    </div>
  </section>
</BaseLayout>
